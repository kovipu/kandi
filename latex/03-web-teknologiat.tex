\chapter{Web-kehitys}

\section{World Wide Web}
World Wide Web tai WWW on järjestelmä tiedon jakamiseen, joka käyttää Internet-verkkoa. Web-sisältöä luetaan selaimella,
joka hakee sisällön web-palvelimelta HTTP-siirtoprotokollan avulla. Verkkosivujen sisällön kuvaamiseen on perinteiseti
ollut kolme tekniikkaa: HTML-kieli sivun sisällön kuvaamiseen, CSS-kieli sivun ulkoasun kuvaamiseen ja JavaScript-kieli
sivun toiminnallisuuden toteuttamiseen. On myös mahdollista käyttää esimerkiksi Flash- ja Java-liitännäisiä, mutta
nykyään on tyypillisempää käyttää pelkästään JavaScript-kieltä. \cite{javascriptguide}

\subsection{Staattiset verkkosivut}
Alkuperäinen tapa jakaa web-sisältöä on staattisena verkkosivuna (eng. static website). Staattinen verkkosivu koostuu
HTML-sivuista, dokumenteista ja mediasta, jotka luetaan suoraan web-palvelimen massamuistista, ilman että palvelin tekee
niihin muutoksia ajon aikana. Staattiset verkkosivut sisältävät usein HTML-, CSS- ja multimediasisältöä, sekä selaimessa
ajettavia skriptejä tai ohjelmia, jotka on kirjoitettu JavaScript-kielellä tai muulla selaimen tulkitsemalla kielellä.
\cite{staticdynamicwebsites}

\subsection{Dynaamiset verkkosivut}
Dynaaminen verkkosivu tarkoittaa sivua, joka ei ole suoraan selaimen luettavassa muodossa. Dynaamisen sivun back-end
muodostaa selaimella renderöityvän sivun ajon aikana. Dynaamisen verkkosivun operaatioiden toteutus ei olekaan rajattu
selaimen tulkittaviin ohjelmointikieliin, vaan käytännössä minkä tahansa kielen käyttäminen on mahdollista. Yleisimpiä
kieliä dynaamisen verkkosivun toteuttamiseen ovat PHP, Python, Perl, Ruby, Java, C\# ja Node.js. Dynaaminen verkkosivu
tallettaa useimmiten sisältönsä tietokantaan. \cite{staticdynamicwebsites}

\section{Back-end}
Back-end tarkoittaa verkkosivun tai -sovelluksen palvelinpäässä ajettavaa osaa, joka ei näy käyttäjälle. Koska
back-end-ohjelmaa ajetaan palvelinlaitteistolla, sen toteuttamiseen on paljon enemmän vapautta kuin front-endin, jonka
täytyy olla selaimen tulkittavissa. Back-end vastaa usein kaikesta varsinaisesta toiminnallisuudesta verrattuna
front-endiin, joka toteutaa pelkän käyttöliittymän ohjelmalle. Back-endiin kuuluu usein myös tietokanta, johon
sovelluksen data tallennetaan. \cite{fullstackdeveloper}

Back-end kommunikoi front-endin kanssa jonkin yhteisen rajapinnan (eng. Application programming interface, API) kautta.
Rajapinta on yleensä pääasiallinen tiedonsiirtokanava back-endin ja front-endin välillä. Front-end lähettää rajapintaan
kutsun useimmiten HTTP-protokollan avulla, palvelin vastaanottaa kutsun ja suorittaa kutsutun toimenpiteen.
Rajapintaa suunniteltaessa tulee muotoilla rajapinnan rakenne vastaamaan sekä ohjelman datarakennetta, että käyttäjän
tai front-endin vaatimuksia. Rajapinta tarjoaa staattiselle front-endille mahdollisuuden dynaamiseen ajonaikana
haettavaan sisältöön ja sen muokkaamiseen. Rajapinta voi tarjota front-endille käyttäjän tunnistautumisen (eng.
authentication) ja valtuuttamisen (eng. authorization). \cite{fullstackdeveloper}

\section{Front-end}
Front-end tarkoittaa verkkosivun tai -sovelluksen käyttäjälle näkyvää osaa. Koska front-endiä suoritetaan selaimessa,
se on pakko toteuttaa web-yhteensopivilla tekniikoilla, joista yleisimmät ovat HTML, CSS ja JavaScript. JavaScript on
nykypäivänä täysiverinen ohjelmointikieli, jolla voidaan toteuttaa interaktiivisuutta sekä manipuloida verkkosovelluksen
rakennetta ja ulkoasua. \cite{fullstackdeveloper}

Front-endin keskeisin tehtävä on käyttöliittymän ja tiedon näyttäminen käyttäjälle. Tästä huolimatta modernissa
front–endissä on paljon muitakin asioita joita tulee ottaa huomioon. Front-end ohjelmakoodi muodostaa ja muokkaa
verkkosivun HTML DOM-puuuta (eng. DOM tree), joka kuvaa sivun rakenteen. Front-end mahdollistaa myös käyttäjält
tulevien DOM-tapahtumien (eng. DOM event) vastaanottamisen ja käsittelyn. Modernilta front-endiltä odotetaan myös
responsiivista designia, joka tarkoittaa että sama sivu toimii usealla erikokoisella päätelaitteella.
\cite{bignerdfrontend}

Modernissa front-end–kehityksessä on tyypillistä toteuttaa verkkosovelluksen ohjelmakoodi jollain korkeamman tason
ohjelmointikiellä, joka muunnetaan web-natiiviksi käännösvaiheessa. Usein käytetään esimerkiksi CSS-tyylikieleksi
kääntyvää SCSS-kieltä. Kääntäjiä, jotka kääntävät front-end–kieliä selainyhteensopiviksi kutsutaan käännöstyökaluiksi
(eng. build tool). Esimerkiksi tämän tutkielman käsittelykohteena oleva Elm-kieli ei ole sellaisenaan
selainyhteensopiva, vaan vaatii kääntämisen HTML- ja JavaScript-kielille \cite{elmlang}. \cite{fullstackdeveloper}

\section{Funktionaalinen web-ohjelmointi}
Funktionaalinen web-ohjelmointi on kerännyt suosiota viime vuosina. Funktionaalinen ohjelmointi soveltuu erinomaisesti
web-ohjelmointiin sen toistettavuuden ja testattavuuden ansiosta. Bisneslogiikan, tietokantalogiikan ja
ohjelmistokehyskoodin (eng. framework boilerplate) yksinkertaisempi erottelu on myös perustelu funktionaaliselle
web-ohjelmoinnille. Back-end sovelluksen ohjelmointikieleksi voikin valita esimerkiksi Clojure- tai Elixir-kielen.
\cite{functionalwebdev} Funktionaalinen ohjelmointi on yleistä etenkin front-end kehityksessä funktionaalisia piirteitä
suosivien tekniikoiden, kuten React, ansiosta. Funktionaalinen front-end–ohjelmointi tuo tyypillisiä funktionaalisen
ohjelmoinnin hyötyjä, kuten parantaa ohjelman suorituskykyä ja testattavuutta. \cite{functionalreact} Koska tutkielman
aihe on funktionaalinen front-end web-kehitys, käsitellään seuraavaksi enemmän front-endia.

Funktionaalista paradigmaa toteuttava front-end perustuu datan ja näkymän yhdistämiseen puhtaiden funktioiden avulla.
Tämänkaltainen front-end vaatii jonkin eksplisiittisen mekanismin datan muuttamiseen ja näkymän uudelleen renderöitiin.
Funktionaaliset front-end tekniikat suosivatkin usein muuttumatonta (eng. immutable) tilanhallintaa, joka vaatii tilan
uudeelleenasettamisen sen muuttamiseksi. Tämänkaltaiselle tilanhallinnalle on myös tyypillistä säilöä koko ohjelman tila
yhdessä paikassa, ja muuttaa sitä lähettämällä sille käskyjä (eng. dispatching actions). Käskyn vastaanottaa puhdas
funktio, joka ottaa parametreina käskyn ja aiemman tilan, palauttaen ohjelman uuden tilan. Näin ohjelma on näennäisesti
puhtaan funktionaalinen ja sivuvaikutukseton. \cite{functionalreact}

Kuten tosielämän ohjelmille on tyypillistä, front-endissa tarvitaan myös sivuvaikutuksia joidenkin toiminnallisuuksien
toteuttamiseen. Sivuvaikutukset ovat hyödyllisiä esimerkiksi tiedon tallentamiseen selaimen muistiin ja satunnaisten
numeroiden tuottamiseen. Funktionaaliset front-end ohjelmistokehykset tarjoavatkin tyypillisesti toiminnallisuuden
sivuvaikutusten toteuttamiseen funktionaaliselle ohjelmoinnille tyypillisen rajatusti. \cite{elmlang}\cite{reactjs}

\section{Funktionaalinen reaktiivinen ohjelmointi}
Reaktiivinen ohjelmointi tarkoittaa asynkronisen datan ja tapahtumien kytkemistä ohjelmointikielen tai
ohjelmistokehyksen sisäänrakennetuilla tekniikoilla muuttumattomiin datatyyppeihin. Immutaavisten datavirtojen käsittely
voidaan toteuttaa puhtaasti funktionaalisilla operaatioilla. Tämä on funktionaalisen reaktiivisen ohjelmoinnin (eng. 
Functional Reactive Programming, FRP) keskeinen konsepti, jota esimerkiksi React ja Elm hyödyntävät 
\cite{elmlang}\cite{reactjs}. \cite{fpmattered}

Reaktiiviseen ohjelmointimalliin soveltuvia tapahtumia ja asynkronisia datalähteitä front-end web-sovelluksessa ovat
muun muassa DOM-tapahtumat ja rajapinta-kutsut. Funktionaaliset reaktiiviset front-end ohjelmistokehykset tarjoavat
sisäänrakennetun menetelmän funktionaaliseen front-end toteutukseen. \cite{elmlang}\cite{reactjs}
